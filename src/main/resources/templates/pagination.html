<!doctype html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Bootstrap demo</title>
    <style>
		
	</style>
		
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js" integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.min.js" integrity="sha384-Rx+T1VzGupg4BHQYs2gCW9It+akI2MM/mndMCy36UVfodzcJcF0GGLxZIzObiEfa" crossorigin="anonymous"></script>
  </head>
  <body class="container-fluid">
	  <div class="d-flex align-item-center justify-content-center bg-secondary">
	<div >
	  <!--nav bar-->
<ul class="nav nav-underline">
	<ul class="nav nav-underline">
	 <li class="nav-item">
    <a class="nav-link "   href="/" style="color:white;margin-right: 100px;">Home</a>
  </li>
  <li class="nav-item">
    <a class="nav-link " href="/register" style="color:white;margin-right: 100px;">Add</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/all" style="color:white;margin-right: 100px;">GetUsers</a>
  </li>
  
  <li class="nav-item">
    <a class="nav-link" href="/pagination?pageNo=1&sortField=name&sortDirection=asc"  style="color:white;margin-right: 100px;">Pagination Tables</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="#" style="color:white;margin-right: 100px;">ContactUs</a>
  </li>
  <li class="nav-item">
    <a class="nav-link disabled" aria-disabled="true" style="color:white;margin-right: 100px;">Disabled</a>
  </li>
</ul>	</div> 
</div> <!-- nav bar end-->

<div style=" height:50px;display: flex;justify-content: center;align-items: center;margin-top: 10px;" class="container-fluid">
	<div style="height:50px;width: 1000px;display: flex;justify-content: center;align-items: center;" th:if="${msg!=null}">
		<div style="width:650px;display: flex;justify-content: center;align-items: center;">


			<h4 class="bi bi-check-circle bg-success text-center" style="width:400px;height:30px;border-radius: 10px;">
				<span style="color: white;" th:text="${msg}"></span>
			</h4>
			
		</div>

<div style="width: 350px;display: flex;justify-content:end;align-items: center;">

				<form th:action="@{/search}" method="get">
					<div class="input-group">
						<input class="form-control " type="text" name="id" placeholder="search  id or name" size="25px"
							style="border-color: darkseagreen;">
						<input type="submit" value="Search" class=" btn btn-secondary">
					</div>
				</form>
			</div>
	</div>
	<div style=" height:50px;width: 1000px;display: flex;justify-content: center;align-items: center;"
		th:if="${msg==null}" class="container-fluid">

		<div style=" height:50px;width: 300px;display: flex;justify-content: start;align-items: center;">
			<h4 class="text-primary">UserAccounts</h4>
		</div>
		<div style=" height:50px;width: 700px;display: flex;justify-content:end;align-items: center;">


			<form action="search" method="get">
				<div class="input-group">
					<input class="form-control " type="text" name="data" placeholder="search id or name" size="25px"
						style="border-color: darkseagreen;">
					<input type="submit" value="Search" class=" btn btn-secondary">
				</div>
			</form>
		</div>
	</div>
</div>

<!--<div style="height:30px; background-color: green;" th:if="${msg!=null}">-->
<!--<center><span class="bi bi-check-circle"></span><span class="text-center text-secondary mt-4 mb-4" th:text="${msg}"></span></center>	-->
<!--</div>-->
<div th:if="${!data.empty}" >
	
	<div class="d-flex align-item-center justify-content-center mt-4">

	<div style="height: 530px;overflow: auto;">

<!--class="table table-responsive table-striped table-hover"-->
		<table class=" table table-striped table-responsive-md">
		<thead style="position: sticky;top:0px;" >

			<tr>
			
				<th >Id &nbsp;<a th:if="${reverseSortDirection=='asc'}" class="btn btn-danger bi bi-sort-numeric-down h-5" th:href="@{/pagination(pageNo=${currentPage},sortField=id,sortDirection=${reverseSortDirection})}"></a>
				<a th:if="${reverseSortDirection=='desc'}" class="btn btn-danger bi bi-sort-numeric-up h-5" th:href="@{/pagination(pageNo=${currentPage},sortField=id,sortDirection=${reverseSortDirection})}"></a>
				</th>
				<th>FullName &nbsp;
					<a th:if="${reverseSortDirection=='asc'}" class="btn btn-danger bi bi-sort-alpha-down" th:href="@{/pagination(pageNo=${currentPage},sortField=name,sortDirection=${reverseSortDirection})}"></a>
				    <a th:if="${reverseSortDirection=='desc'}" class="btn btn-danger bi bi-sort-alpha-up" th:href="@{/pagination(pageNo=${currentPage},sortField=name,sortDirection=${reverseSortDirection})}"></a>
					</th>
				<th>Mail &nbsp;
					<a  th:if="${reverseSortDirection=='asc'}" class="btn btn-danger bi bi-sort-alpha-down" th:href="@{/pagination(pageNo=${currentPage},sortField= mail,sortDirection=${reverseSortDirection})}"></a>
					<a  th:if="${reverseSortDirection=='desc'}" class="btn btn-danger bi bi-sort-alpha-up" th:href="@{/pagination(pageNo=${currentPage},sortField= mail,sortDirection=${reverseSortDirection})}"></a>
					</th>
				<th>dob  &nbsp;<a th:if="${reverseSortDirection=='asc'}" class="btn btn-danger bi bi-sort-numeric-down h-5" th:href="@{/pagination(pageNo=${currentPage},sortField=id,sortDirection=${reverseSortDirection})}"></a>
				<a th:if="${reverseSortDirection=='desc'}" class="btn btn-danger bi bi-sort-numeric-up h-5" th:href="@{/pagination(pageNo=${currentPage},sortField=id,sortDirection=${reverseSortDirection})}"></a>
                 </th>
				<th>gender &nbsp;
					<a  th:if="${reverseSortDirection=='asc'}" class="btn btn-danger bi bi-sort-alpha-down" th:href="@{/pagination(pageNo=${currentPage},sortField= gender,sortDirection=${reverseSortDirection})}"></a>
					<a  th:if="${reverseSortDirection=='desc'}" class="btn btn-danger bi bi-sort-alpha-up" th:href="@{/pagination(pageNo=${currentPage},sortField= gender,sortDirection=${reverseSortDirection})}"></a>
							
					</th>
				<th>SSN &nbsp;
					<a th:if="${reverseSortDirection=='asc'}" class="btn btn-danger bi bi-sort-numeric-down h-5" th:href="@{/pagination(pageNo=${currentPage},sortField=id,sortDirection=${reverseSortDirection})}"></a>
				<a th:if="${reverseSortDirection=='desc'}" class="btn btn-danger bi bi-sort-numeric-up h-5" th:href="@{/pagination(pageNo=${currentPage},sortField=id,sortDirection=${reverseSortDirection})}"></a>
					</th>
				<th>Mobile &nbsp;<a th:if="${reverseSortDirection=='asc'}" class="btn btn-danger bi bi-sort-numeric-down h-5" th:href="@{/pagination(pageNo=${currentPage},sortField=id,sortDirection=${reverseSortDirection})}"></a>
				<a th:if="${reverseSortDirection=='desc'}" class="btn btn-danger bi bi-sort-numeric-up h-5" th:href="@{/pagination(pageNo=${currentPage},sortField=id,sortDirection=${reverseSortDirection})}"></a>
                </th>
				<th>Edit</th>
				<th>Delete</th>
				<th>Status</th>		
			</tr>
		</thead>
		<tbody>
			<tr th:each="x:${data}">
				<td th:text="${x.id}"></td>
				<td th:text="${x.name}"></td>
				<td th:text="${x.mail}"></td>
				<td th:text="${x.dob}"></td>
			   <td th:text="${x.gender}"></td>
 				<td th:text="${x.ssn}"></td>

				<td th:text="${x.mobile}"></td>
				<td><a th:href="@{/edit(id=${x.id})}" class="btn btn-primary bi bi-pencil-square" onclick="return confirm('do yo want to edit account')"></a></td>
				<td><a th:href="@{/delete(id=${x.id})}"  class="btn btn-danger bi bi-trash" onclick="return confirm('do yo want to delete account')"></a></td>
				
				<span th:switch="${x.status}">
						<td th:case="Active"><a th:href="@{/status(id=${x.id})} "  class="btn btn-warning w-100 " onclick="return confirm('do yo want to InActive account')" ><span>InActive</span></a></td>					
					    <td th:case="InActive"><a th:href="@{/status(id=${x.id})}"  class="btn btn-info w-100" onclick="return confirm('do yo want to Active account')"><span>Active</span></a></td>					

				</span>
			</tr>
		</tbody>
		

	</table>
	<div style="height: 70px;width:100% ;">
		
		<div style="width:100% ;height:70px;display: flex;justify-content: center;align-items: center;">
			
			<div style="width:20% ;height:70px;display: flex;justify-content: center;align-items: center;">
	      Page No:&nbsp;  <span th:text="${currentPage}" class="text-secondary"></span> &nbsp;<span class="text-primary">Of</span>&nbsp; <span th:text="${totalPages}" class="text-danger"></span>
			
		</div>
		<div style="width:100%;height:70px;display: flex;justify-content: center;align-items: center;">
			
			
			<nav style="height:70px;display: flex;justify-content: center;align-items: end;">
  <ul class="pagination">
    <li class="page-item  disabled" th:if="${currentPage>1}">
      <a th:if="${currentPage>1}"  class="page-link" th:href="@{/pagination(pageNo=${currentPage-1},sortField= ${sortField},sortDirection=${sortDirection})}">Previous</a>
    </li>
    <li class="page-item" th:each="i: ${#numbers.sequence(1, totalPages)}">
		<a class="page-link" th:if="${currentPage != i}" th:href="@{/pagination(pageNo=${i},sortField= ${sortField},sortDirection=${sortDirection})}">[[${i}]]</a>
		<a class="page-link bg-info" th:unless="${currentPage != i}" >[[${i}]]</a>

		</li>
    
    
  
    <li class="page-item" th:if="${currentPage<totalPages}">
      <a class="page-link" th:if="${currentPage<totalPages}" th:href="@{/pagination(pageNo=${currentPage+1},sortField= ${sortField},sortDirection=${sortDirection})}">Next</a>
    </li>
  </ul>
</nav>	
		</div>

			<div style="width:30% ;height:70px;display: flex;justify-content: center;align-items: center;">
	    <span  class="text-secondary">Total Records :</span> &nbsp;<span class="text-primary" th:text="${totalElements}"></span>
			
		</div>
		</div>		
	</div>

</div>
	</div>


	
</div> 
<div th:if="${data.empty}" style="height: 500px;">
	<h2 class="text-center text-danger mt-4">no recods found</h2>
<br>
	
</div> 
					<center><a href="/excel" class="btn btn-primary me-4 mt-2">Download Excel</a>		 <a href="/pdf" class="btn btn-primary ms-4 mt-2">Download Pdf</a></center>

<footer class="bg-secondary mt-2" >
	<div style="height: 40px;">
		
	</div>

</footer>

  </body>
</html>